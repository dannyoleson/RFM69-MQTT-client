
RFM-MQTT-DIG Release 2.2 

by Computourist@gmail.com October 2015

The DIG end node is basically a lean DHT node. It's only function is to control a digital output (Relay, LED).
It has:
- an output to control the load (set at pin 9)
- an input to connect a pushbutton (at pin 8 with a pull-up resistor of 10 K)

It has the same schematic as the DHT-node, just leave out the DHT module.

The push button can be used to locally toggle the output. On every state change a message is generated.

In this node a bug in the retransmission mechanism is fixed. The number of transmissions needed can be read thru device 9.

Hardware used is a 3.3 Volt 8MHz arduino Pro; this is easier to interface to RFM69 

 
 Current defined devices are:

	0	uptime:			read uptime node in minutes
	1	node:			read/set transmission interval in seconds, 0 means no periodic transmission
	2	RSSI:			read radio signal strength
	3	Version:		read version node software
	4	voltage:		read battery level
	5	ACK:			read/set acknowledge message after a 'set' request
	6	toggle:			read/set toggle function on button press
	7	timer:			read/set activation timer after button press in seconds, 0 means no timer
	9	numTX:			read the number of retransmissions needed
	
	16	actuator:		read/set LED or relay output
	40	Button:			tx only: message sent when button pressed

	90	error:			tx only: error message if no wireless connection (generated by gateway)
	92	error:			tx only: device not supported
	99	wakeup:			tx only: first message sent on node startup


A debug mode is included which outputs messages on the serial output

RFM69 Library by Felix Rusu - felix@lowpowerlab.com
Get the RFM69 library at: https://github.com/LowPowerLab/
